{"version":3,"sources":["./src/app/members/confirm-order/confirm-order.page.html","./src/app/members/confirm-order/confirm-order.module.ts","./src/app/members/confirm-order/confirm-order.page.scss","./src/app/members/confirm-order/confirm-order.page.ts"],"names":[],"mappings":"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","file":"members-confirm-order-confirm-order-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"/dashboard\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>ORDER SUMMARY</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <div *ngIf=\\\"orderItems.items.length > 0\\\">\\n        <div class=\\\"grid-structure\\\">\\n            <div *ngFor=\\\"let item of orderItems.items\\\" class=\\\"child-structure\\\">\\n                <p>\\n                    {{item.dish_name}}\\n                </p>\\n                <p></p>\\n                <p class=\\\"price-styling\\\">\\n                    {{item.base_price}} X {{item.count}}\\n                </p>\\n            </div>\\n        </div>\\n\\n        <br>\\n        <br>\\n\\n        <div class=\\\"flex-container-horizontal\\\">\\n            <ion-item style=\\\"width: 190px;\\\">\\n                <ion-label position=\\\"floating\\\">Apply Promocode?</ion-label>\\n                <ion-input type=\\\"text\\\"></ion-input>\\n            </ion-item> &nbsp;\\n\\n            <ion-button color=\\\"success\\\">Apply</ion-button>\\n\\n        </div>\\n\\n        <br>\\n        <br>\\n        <div class=\\\"flex-container-vertical summary-container\\\">\\n            <div class=\\\"summary-header\\\">\\n                <ion-icon name=\\\"ios-paper\\\"></ion-icon> &nbsp; SUMMARY\\n            </div>\\n            <br>\\n            <div class=\\\"grid-total\\\">\\n                <span> Item Total</span>\\n                <span style=\\\"font-weight: bolder; justify-self: end;\\\"> {{total}} ₹</span>\\n                <span style=\\\"margin-top: 10px;\\\"> Taxes (CGST & SGST)</span>\\n                <span style=\\\"font-weight: bolder; justify-self: end; margin-top: 10px; padding-bottom: 10px;\\\"> {{taxAmount}} ₹</span>\\n                <span style=\\\"text-decoration: underline; font-size: 16px; margin-top: 20px;\\\">GRAND TOTAL</span>\\n                <span style=\\\"font-weight: bolder; justify-self: end; font-size: 16px; margin-top: 20px;\\\"> {{grandTotal}} ₹ </span>\\n            </div>\\n\\n        </div>\\n    </div>\\n\\n    <div *ngIf=\\\"orderItems.items.length == 0\\\" class=\\\"flex-container-vertical\\\">\\n        <h5 style=\\\"color: rgb(155, 152, 158); margin-top: 45vh;\\\"> NO ITEMS IN CART</h5>\\n    </div>\\n\\n</ion-content>\\n\\n<ion-footer *ngIf=\\\"orderItems.items.length > 0\\\">\\n    <ion-toolbar>\\n        <ion-button (click)=\\\"completeOrder()\\\" expand=\\\"full\\\" size=\\\"large\\\" color=\\\"primary\\\">CONFIRM ORDER</ion-button>\\n    </ion-toolbar>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConfirmOrderPage } from './confirm-order.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConfirmOrderPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ConfirmOrderPage]\n})\nexport class ConfirmOrderPageModule {}\n","module.exports = \".grid-structure {\\n  display: grid;\\n  grid-template-columns: 33.3% 33.3% 33.3%;\\n  width: 92%;\\n  margin: 4% 2vh;\\n}\\n\\n.child-structure {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  height: 19vh;\\n  width: auto;\\n  margin: 0.5vh;\\n  border-radius: 10px;\\n  background-color: #0c0c13;\\n}\\n\\n.price-styling {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  font-weight: bolder;\\n  font-size: 16px;\\n  color: greenyellow;\\n  background-color: #1C1F2B;\\n  width: 100%;\\n  height: 90%;\\n  margin-bottom: 0;\\n  border-radius: 0 0 10px 10px;\\n}\\n\\n.grid-total {\\n  display: grid;\\n  grid-template-columns: 70% 30%;\\n  width: 90%;\\n  margin: 4% 2vh;\\n}\\n\\n.summary-header {\\n  padding-top: 15px;\\n  font-size: x-large;\\n}\\n\\n.summary-container {\\n  border-radius: 10px;\\n  width: 80vw;\\n  background-color: #0C0C13;\\n  margin-left: 10vw;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9jb25maXJtLW9yZGVyL0Q6XFxQcm9qZWN0c1xcVHJlZ2dvLWFwcC9zcmNcXGFwcFxcbWVtYmVyc1xcY29uZmlybS1vcmRlclxcY29uZmlybS1vcmRlci5wYWdlLnNjc3MiLCJzcmMvYXBwL21lbWJlcnMvY29uZmlybS1vcmRlci9jb25maXJtLW9yZGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSx3Q0FBQTtFQUNBLFVBQUE7RUFDQSxjQUFBO0FDQ0o7O0FERUE7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSw0QkFBQTtFQUFBLDZCQUFBO1VBQUEsc0JBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7QUNDSjs7QURFQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSw0QkFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtFQUNBLDhCQUFBO0VBQ0EsVUFBQTtFQUNBLGNBQUE7QUNDSjs7QURFQTtFQUNJLGlCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURFQTtFQUNJLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsaUJBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvY29uZmlybS1vcmRlci9jb25maXJtLW9yZGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ncmlkLXN0cnVjdHVyZSB7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAzMy4zJSAzMy4zJSAzMy4zJTtcclxuICAgIHdpZHRoOiA5MiU7XHJcbiAgICBtYXJnaW46IDQlIDJ2aDtcclxufVxyXG5cclxuLmNoaWxkLXN0cnVjdHVyZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGhlaWdodDogMTl2aDtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgbWFyZ2luOiAwLjV2aDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTIsIDEyLCAxOSk7XHJcbn1cclxuXHJcbi5wcmljZS1zdHlsaW5nIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBmb250LXdlaWdodDogYm9sZGVyO1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgY29sb3I6IGdyZWVueWVsbG93O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFDMUYyQjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiA5MCU7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMCAwIDEwcHggMTBweDtcclxufVxyXG5cclxuLmdyaWQtdG90YWwge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogNzAlIDMwJTtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBtYXJnaW46IDQlIDJ2aDtcclxufVxyXG5cclxuLnN1bW1hcnktaGVhZGVyIHtcclxuICAgIHBhZGRpbmctdG9wOiAxNXB4O1xyXG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xyXG59XHJcblxyXG4uc3VtbWFyeS1jb250YWluZXIge1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIHdpZHRoOiA4MHZ3O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzBDMEMxMztcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHZ3O1xyXG59IiwiLmdyaWQtc3RydWN0dXJlIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAzMy4zJSAzMy4zJSAzMy4zJTtcbiAgd2lkdGg6IDkyJTtcbiAgbWFyZ2luOiA0JSAydmg7XG59XG5cbi5jaGlsZC1zdHJ1Y3R1cmUge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgaGVpZ2h0OiAxOXZoO1xuICB3aWR0aDogYXV0bztcbiAgbWFyZ2luOiAwLjV2aDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBjMGMxMztcbn1cblxuLnByaWNlLXN0eWxpbmcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogZ3JlZW55ZWxsb3c7XG4gIGJhY2tncm91bmQtY29sb3I6ICMxQzFGMkI7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDkwJTtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbiAgYm9yZGVyLXJhZGl1czogMCAwIDEwcHggMTBweDtcbn1cblxuLmdyaWQtdG90YWwge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDcwJSAzMCU7XG4gIHdpZHRoOiA5MCU7XG4gIG1hcmdpbjogNCUgMnZoO1xufVxuXG4uc3VtbWFyeS1oZWFkZXIge1xuICBwYWRkaW5nLXRvcDogMTVweDtcbiAgZm9udC1zaXplOiB4LWxhcmdlO1xufVxuXG4uc3VtbWFyeS1jb250YWluZXIge1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICB3aWR0aDogODB2dztcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBDMEMxMztcbiAgbWFyZ2luLWxlZnQ6IDEwdnc7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { RestService } from 'src/app/services/rest.service';\nimport { Router } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport { Dialogs } from '@ionic-native/dialogs/ngx';\n\n@Component({\n  selector: 'app-confirm-order',\n  templateUrl: './confirm-order.page.html',\n  styleUrls: ['./confirm-order.page.scss'],\n})\nexport class ConfirmOrderPage implements OnInit {\n\n  orderItems: any = {\n    items: [],\n    total: null,\n    grandTotal: null,\n    order_id: null,\n    sub_order_id: null\n  };\n\n  user: any = null;\n  total: any = 0;\n  taxAmount: any = 0;\n  grandTotal: any = 0;\n  order: any = null;\n\n  constructor(private rest: RestService,\n    private loading: LoadingController,\n    private storage: Storage,\n    private dialogs: Dialogs,\n    private router: Router) { }\n\n  ngOnInit() {\n\n    this.storage.ready().then(() => {\n\n      this.storage.get('user').then((res) => {\n        this.user = res;\n      })\n    });\n\n    //Get order items selected in previous screen:\n    this.loading.create({\n      message: 'Fetching Order Details',\n      spinner: 'dots',\n      showBackdrop: true,\n    }).then(loading => {\n\n      loading.present();\n\n      this.storage.ready().then(() => {\n        this.storage.get('dishes').then((res: any) => {\n\n          loading.dismiss();\n          res.forEach(category => {\n\n            category.dishes.forEach(dish => {\n              if (dish.count > 0) {\n                this.orderItems.items.push({\n                  dish_id: dish.dish_id,\n                  dish_name: dish.dish_name,\n                  category_id: category.category_id,\n                  count: dish.count,\n                  base_price: dish.base_price\n                });\n\n                this.total += (dish.base_price * dish.count);\n              }\n            });\n          });\n\n          this.taxAmount = (0.12 * this.total).toFixed(2);\n          this.grandTotal = parseFloat(this.total) + parseFloat(this.taxAmount);\n        });\n      });\n    });\n  }\n\n\n\n  completeOrder() {\n\n    this.loading.create({\n      message: 'Completing your order',\n      spinner: 'dots',\n      showBackdrop: true,\n    }).then(loading => {\n\n      loading.present();\n\n      this.orderItems.total = this.total;\n      this.orderItems.grandTotal = this.grandTotal;\n\n      //Create new order and then create sub-order for the same, but also check if order is new or in continuation:\n\n      this.storage.ready().then(() => {\n\n        this.storage.get('order').then((res: any) => {\n\n          //If this is new order:\n          if (res && res.order_status == 'OPEN') {\n           \n           //Create suborder with existing order\n            this.order = res;\n            this.createSubOrder(\"ORDERED\", loading);\n\n          }\n          \n          else {\n            //Create new order and then suborder\n            this.createOrder(loading);\n          }\n        });\n      });\n    });\n\n  }\n\n\n\n  //Create new suborder\n  createSubOrder(status: string, loading) {\n\n    let dto = {\n      customer_id: this.user.customer_id,\n      order_date: this.rest.formatDate(new Date()),\n      order_id: this.order.order_id,\n      status: status,\n      dishes: this.prepareDishesString().dishes,\n      quantities: this.prepareDishesString().quantities\n    };\n\n    this.rest.createSubOrder(dto).subscribe((res: any) => {\n\n      this.orderItems.order_id = this.order.order_id;\n      this.orderItems.sub_order_id = res.sub_order_id;\n      this.orderItems.status = res.status;\n\n      this.storage.set('placedOrder', this.orderItems);\n      console.log(\"Order items --> \", this.orderItems);\n\n      loading.dismiss();\n\n      this.router.navigate(['menu', 'status']);\n\n      this.dialogs.alert(\"Your food has been ordered successfully\", \"SUCCESS\").then(() => {\n        this.router.navigate(['menu', 'status']);\n      });\n\n    },\n    err => {\n      this.dialogs.alert(\"Your order has been failed, Please Contact Admin \", \"ERROR\")\n    });\n  }\n\n\n\n  //Create new order\n  createOrder(loading) {\n\n    let dto = {\n      customer_id: this.user.customer_id,\n      orderDate: this.rest.formatDate(new Date()),\n      total_amount: this.grandTotal\n    };\n\n    this.rest.createOrder(dto).subscribe((res: any) => {\n\n      this.order = res;\n\n      this.storage.set('order', res);\n      //Create new sub order based on order created\n      this.createSubOrder(\"ORDERED\", loading);\n    },\n    err => {\n      this.dialogs.alert(\"Your order has been failed, Please Contact Admin \", \"ERROR\")\n    });\n  }\n\n\n\n  prepareDishesString() {\n\n    let output = {\n      dishes: \"\",\n      quantities: \"\"\n    };\n\n    this.orderItems.items.forEach(element => {\n      output.dishes = output.dishes.concat(element.dish_name, \" | \");\n      output.quantities = output.quantities.concat(element.count.toString(), \" | \");\n    });\n\n    output.dishes.trim();\n    output.quantities.trim();\n\n    return output;\n  }\n\n}\n"],"sourceRoot":""}